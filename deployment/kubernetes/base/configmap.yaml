# =============================================================================
# Application ConfigMap
# =============================================================================
# Non-sensitive configuration values for the application
#
# Usage in Pod:
#   envFrom:
#     - configMapRef:
#         name: knowledge-agent-config
#
# Note: Sensitive values (API keys, passwords) should go in Secrets
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: knowledge-agent-config
  namespace: knowledge-agent
  labels:
    app.kubernetes.io/name: knowledge-agent
    app.kubernetes.io/component: config
data:
  # Application settings
  APP_ENV: "production"
  APP_HOST: "0.0.0.0"
  APP_PORT: "8000"
  LOG_LEVEL: "INFO"
  WORKERS: "4"
  
  # Service URLs (use full URL to avoid Kubernetes env var conflicts)
  QDRANT_URL: "http://qdrant:6333"
  QDRANT_COLLECTION_NAME: "knowledge_base"
  
  REDIS_URL: "redis://redis:6379"
  REDIS_ENABLED: "true"
  
  POSTGRES_URL: "postgresql://postgres:5432/knowledge_agent"
  POSTGRES_ENABLED: "true"
  
  # LLM configuration
  DEFAULT_LLM_PROVIDER: "openai"
  DEFAULT_EMBEDDING_MODEL: "text-embedding-3-small"
  DEFAULT_CHAT_MODEL: "gpt-4o-mini"
  
  # Observability
  PROMETHEUS_ENABLED: "true"
  PHOENIX_ENABLED: "false"